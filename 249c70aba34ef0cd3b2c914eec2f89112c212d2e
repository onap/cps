{
  "comments": [
    {
      "key": {
        "uuid": "c742e829_06401a13",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-08-24T10:58:08Z",
      "side": 1,
      "message": "Commit message does not comply with ONAP format:\nhttps://wiki.onap.org/display/DW/Commit+Messages#CommitMessages-CommitStructure",
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09a9d057_24a0a52f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T11:23:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c742e829_06401a13",
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3083696a_b97bf226",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "does not add much value but is OK for consistency in this class...",
      "range": {
        "startLine": 62,
        "startChar": 32,
        "endLine": 62,
        "endChar": 44
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bcf950d_2ca3f61a",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3083696a_b97bf226",
      "range": {
        "startLine": 62,
        "startChar": 32,
        "endLine": 62,
        "endChar": 44
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e752d28f_5b6bc8fd",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 150,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-08-24T10:58:08Z",
      "side": 1,
      "message": "Isn\u0027t this error log redundant with the top error log from NetworkCmProxyRestExceptionHandler ?\nAlso, is it really useful without any context information ?",
      "range": {
        "startLine": 150,
        "startChar": 12,
        "endLine": 150,
        "endChar": 98
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c00f73e_682fc129",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 150,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T11:23:13Z",
      "side": 1,
      "message": "I can remove this log Bruno. Me and Rahul, just thought it might add some extra context as to where the exception is being thrown. In this case, converting the json object.",
      "parentUuid": "e752d28f_5b6bc8fd",
      "range": {
        "startLine": 150,
        "startChar": 12,
        "endLine": 150,
        "endChar": 98
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b51a5be9_2c818db7",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 151,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-08-24T10:58:08Z",
      "side": 1,
      "message": "It seems that this exception is going to lead to an Internal Server Error Http response code. Is it what is happening here or is this error caused by some incorrect input data from the client ?",
      "range": {
        "startLine": 151,
        "startChar": 22,
        "endLine": 151,
        "endChar": 45
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de31dc20_aab71916",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 151,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T11:23:13Z",
      "side": 1,
      "message": "Yes, so if the client inputs data, which cannot be converted to the necessary json string, we will throw this data validation exception, along with the compulsory JsonProcessingException which must be thrown with objectMapper.writeValueAsString.\n\nDo you not this is necessary as part of this update method to throw this exception",
      "parentUuid": "b51a5be9_2c818db7",
      "range": {
        "startLine": 151,
        "startChar": 22,
        "endLine": 151,
        "endChar": 45
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "464a3563_7f5848d7",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 5006
      },
      "writtenOn": "2021-08-23T14:22:41Z",
      "side": 1,
      "message": "{\"cm-handles\":[{\"id\":\"123\",\"dmi-service-name\":\"my-server\",\"additional-properties\":[{\"name\":\"name1\",\"value\":\"value1\"},{\"name\":\"name2\",\"value\":\"value2\"}]},\n{\"id\":\"124\",\"dmi-service-name\":\"my-server\",\"additional-properties\":[{\"name\":\"name21\",\"value\":\"value21\"},{\"name\":\"name22\",\"value\":\"value22\"}]}\n]}\n\ncan you send all this data to cmdataservice at once whihc have two datanodes/cmhandles and would cps data service handle it at once? \n\nplease try if yes\nthen you need to extract few lines from for loop and it\u0027ll do\n\nif not then its fine.",
      "range": {
        "startLine": 167,
        "startChar": 34,
        "endLine": 167,
        "endChar": 50
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "329fc8be_1a707659",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "464a3563_7f5848d7",
      "range": {
        "startLine": 167,
        "startChar": 34,
        "endLine": 167,
        "endChar": 50
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "154c558b_92e52942",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 245,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "this method is doing 2 things at once which gives trouble with name and makes it hard to read.\nI would make this method return the PersistenceCmHandle (as the current name suggests) and add it to the list whereever you call it now (even if it is used multiple times, no big deal)",
      "range": {
        "startLine": 245,
        "startChar": 17,
        "endLine": 245,
        "endChar": 38
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6dfea18_92a4076b",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 245,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "154c558b_92e52942",
      "range": {
        "startLine": 245,
        "startChar": 17,
        "endLine": 245,
        "endChar": 38
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4f6a345_e952d0c6",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 114,
      "author": {
        "id": 5006
      },
      "writtenOn": "2021-08-23T14:22:41Z",
      "side": 1,
      "message": "use multiple cmhandles for this example\n\n[cmhandle1, cmhandle2]\n\nthis will give more rebustness to this test. btw preferable is if you write new test for update. and then simultaneous test for register and update. \n\n:nb (can be written afterwards)",
      "range": {
        "startLine": 114,
        "startChar": 53,
        "endLine": 114,
        "endChar": 64
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3916cfb3_0b65a28f",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 114,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "agreed but depending time as ssuggested as later (post code-freeze) improvement",
      "parentUuid": "c4f6a345_e952d0c6",
      "range": {
        "startLine": 114,
        "startChar": 53,
        "endLine": 114,
        "endChar": 64
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6cc3430_1e603e8d",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 114,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3916cfb3_0b65a28f",
      "range": {
        "startLine": 114,
        "startChar": 53,
        "endLine": 114,
        "endChar": 64
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fa2c555_29ae1b7c",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 120,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "mind casing (not blocking)",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 15
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44141332_870d567a",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 120,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fa2c555_29ae1b7c",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 15
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1a3a315_9af60242",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 105,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "does it do multiple children, whole tree? Name could be misleading",
      "range": {
        "startLine": 105,
        "startChar": 21,
        "endLine": 105,
        "endChar": 28
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81cdf3a0_f7812ee6",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 105,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1a3a315_9af60242",
      "range": {
        "startLine": 105,
        "startChar": 21,
        "endLine": 105,
        "endChar": 28
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "490dfa97_a1fa17b8",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 183,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-08-23T16:13:08Z",
      "side": 1,
      "message": "data-consistency issue: It is recursive method and we are calling Db to update in each method call. We need to implement it differently so it can be executed in one transaction to keep data consistent and for better performance.\n\nWe can think of moving the logic to SPI layer and add transaction to the method.",
      "range": {
        "startLine": 172,
        "startChar": 0,
        "endLine": 183,
        "endChar": 5
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0672472a_a4b4b05c",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 183,
      "author": {
        "id": 5006
      },
      "writtenOn": "2021-08-24T08:58:09Z",
      "side": 1,
      "message": "yes, i agree on this that it is should be an atomic operation to negate the data inconsistency, but given that fragment table sees each property as independent data node and allows independent operation on them , lets assume an example below\n\n{ x: val, y [ y1 : yval1 , z [ z1 : zval1 ]]}\n\nhere are three data nodes x , y1, z1  and as there are two lists there can be much more. \nbut in fragment table x, y1, z1 can be updated independently. let say x, y1 are updated and z1 failed then rollback should happen at x and y1.  \n\nand rather than rollback on all previous sub-transaction, it should be retry for the failed transaction.\n\nLooks like the edge cases are complex and hidden , so imo we should take it as improvement or bug separately on cps-core, but not put burden of this improvement on ncmp task. Please give your opinion.",
      "parentUuid": "490dfa97_a1fa17b8",
      "range": {
        "startLine": 172,
        "startChar": 0,
        "endLine": 183,
        "endChar": 5
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6652c032_1ad2a759",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 166,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-08-23T15:07:37Z",
      "side": 1,
      "message": "need to discuss :-)",
      "range": {
        "startLine": 166,
        "startChar": 13,
        "endLine": 166,
        "endChar": 25
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a48346ca_56564c51",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 7
      },
      "lineNbr": 166,
      "author": {
        "id": 7744
      },
      "writtenOn": "2021-08-24T08:18:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6652c032_1ad2a759",
      "range": {
        "startLine": 166,
        "startChar": 13,
        "endLine": 166,
        "endChar": 25
      },
      "revId": "249c70aba34ef0cd3b2c914eec2f89112c212d2e",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}