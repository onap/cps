{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9858bd20_da746b51",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-02-07T16:54:22Z",
      "side": 1,
      "message": "Some NB, otherwise good!",
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bfa3ab8_b18fd540",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 7957
      },
      "writtenOn": "2025-02-07T16:58:21Z",
      "side": 1,
      "message": "Separation of Concerns\n\nDataSourceProperties → Handles database connection settings\nJpaProperties → Handles Hibernate-related settings",
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47bcf85e_db111806",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 6742
      },
      "writtenOn": "2025-02-07T17:45:25Z",
      "side": 1,
      "message": "I disagree. The concern is to populate HibernateConfiguration from application.yml.\n\nThis way is a lot of extra code for a simple problem: we would be going from a single class containing a single bean to 4 different classes.\n(The fourth class is needed because \"new_generator_mappings\" is not directly under \"spring.jpa.properties.hibernate\")",
      "parentUuid": "7bfa3ab8_b18fd540",
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20fc787f_e7c1b5cd",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 7957
      },
      "writtenOn": "2025-02-07T16:58:21Z",
      "side": 1,
      "message": "import com.zaxxer.hikari.HikariDataSource;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.hibernate.cfg.Configuration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport javax.sql.DataSource;\n\n@Slf4j\n@Configuration\n@RequiredArgsConstructor\npublic class HibernateConfig {\n\n    private final DataSourceProperties dataSourceProperties;\n    private final JpaProperties jpaProperties;\n\n    /**\n     * Configures Hibernate with properties from application.yml\n     */\n    @Bean\n    public Configuration hibernateConfiguration() {\n        log.info(\"Initializing Hibernate Configuration...\");\n\n        Configuration configuration \u003d new Configuration();\n        configuration.setProperty(\"hibernate.connection.url\", dataSourceProperties.getUrl());\n        configuration.setProperty(\"hibernate.connection.driver_class\", dataSourceProperties.getDriverClassName());\n        configuration.setProperty(\"hibernate.connection.username\", dataSourceProperties.getUsername());\n        configuration.setProperty(\"hibernate.connection.password\", dataSourceProperties.getPassword());\n        configuration.setProperty(\"hibernate.dialect\", jpaProperties.getDialect());\n        configuration.setProperty(\"hibernate.show_sql\", String.valueOf(jpaProperties.isShowSql()));\n        configuration.setProperty(\"hibernate.format_sql\", String.valueOf(jpaProperties.isFormatSql()));\n        configuration.setProperty(\"hibernate.jdbc.batch_size\", String.valueOf(jpaProperties.getJdbcBatchSize()));\n        configuration.setProperty(\"hibernate.id.new_generator_mappings\", String.valueOf(jpaProperties.isNewGeneratorMappings()));\n\n        log.info(\"Hibernate Configuration initialized successfully.\");\n        return configuration;\n    }\n\n    /**\n     * Configures a DataSource bean using HikariCP.\n     */\n    @Bean\n    public DataSource dataSource() {\n        log.info(\"Configuring DataSource...\");\n        HikariDataSource dataSource \u003d new HikariDataSource();\n        dataSource.setJdbcUrl(dataSourceProperties.getUrl());\n        dataSource.setDriverClassName(dataSourceProperties.getDriverClassName());\n        dataSource.setUsername(dataSourceProperties.getUsername());\n        dataSource.setPassword(dataSourceProperties.getPassword());\n        log.info(\"DataSource configured successfully.\");\n        return dataSource;\n    }\n}",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "598fb053_430d995e",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-02-10T10:50:17Z",
      "side": 1,
      "message": "Hi Sourabh, can you explain the intent of this comment/codeblock",
      "parentUuid": "20fc787f_e7c1b5cd",
      "range": {
        "startLine": 28,
        "startChar": 13,
        "endLine": 28,
        "endChar": 29
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "094ce073_9666bf19",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 7957
      },
      "writtenOn": "2025-02-07T17:02:21Z",
      "side": 1,
      "message": "import lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n@Getter\n@Setter\n@Component\n@ConfigurationProperties(prefix \u003d \"spring.datasource\")\npublic class DataSourceProperties {\n    private String url;\n    private String driverClassName;\n    private String username;\n    private String password;\n}",
      "range": {
        "startLine": 30,
        "startChar": 3,
        "endLine": 40,
        "endChar": 30
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bc1496a_a426be97",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-02-10T10:50:17Z",
      "side": 1,
      "message": "you mean you can group proreties together this way and reduce the number of annotations etc?",
      "parentUuid": "094ce073_9666bf19",
      "range": {
        "startLine": 30,
        "startChar": 3,
        "endLine": 40,
        "endChar": 30
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44576c6c_c3233c4a",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/config/HibernateConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 7957
      },
      "writtenOn": "2025-02-07T16:58:21Z",
      "side": 1,
      "message": "import lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n@Getter\n@Setter\n@Component\n@ConfigurationProperties(prefix \u003d \"spring.jpa.properties.hibernate\")\npublic class JpaProperties {\n    private String dialect;\n    private boolean showSql;\n    private boolean formatSql;\n    private int jdbcBatchSize;\n    private boolean newGeneratorMappings;\n}",
      "range": {
        "startLine": 42,
        "startChar": 3,
        "endLine": 55,
        "endChar": 33
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab20bfa5_85b0d68e",
        "filename": "cps-ri/src/main/java/org/onap/cps/ri/utils/CpsSessionFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-02-10T10:50:17Z",
      "side": 1,
      "message": "NB: the method does more now then just getting a factory\ngetSessionFactoryWithHibernateConfiguration()",
      "range": {
        "startLine": 64,
        "startChar": 27,
        "endLine": 64,
        "endChar": 44
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a0821dc_b82f4334",
        "filename": "integration-test/src/test/groovy/org/onap/cps/integration/functional/cps/HibernateConfigSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-02-10T10:50:17Z",
      "side": 1,
      "message": "find replace \" with \u0027 :-D",
      "range": {
        "startLine": 33,
        "startChar": 7,
        "endLine": 33,
        "endChar": 9
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffd9c9b4_8839aa61",
        "filename": "integration-test/src/test/groovy/org/onap/cps/integration/functional/cps/HibernateConfigSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-02-07T16:54:22Z",
      "side": 1,
      "message": "NB: you can provide a direct value for this \u0027org.postgresql.Driver\u0027 since it doesn\u0027t read from any properies file!",
      "range": {
        "startLine": 39,
        "startChar": 78,
        "endLine": 39,
        "endChar": 134
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36cd0c31_65336cd8",
        "filename": "integration-test/src/test/groovy/org/onap/cps/integration/functional/cps/HibernateConfigSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-02-07T16:54:22Z",
      "side": 1,
      "message": "NB: can use single qoutes instead double for groovy strings.",
      "range": {
        "startLine": 45,
        "startChar": 80,
        "endLine": 45,
        "endChar": 86
      },
      "revId": "c10412950c2b8bf697f2d0c33f6c09cb1aa0cd2b",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}