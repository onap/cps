{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "944c150e_b84bebd4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-12T14:42:37Z",
      "side": 1,
      "message": "Giving conditional +1 based on the below.\n1. Discussion regarding changing from IMap to Map interface ( at the very beginning when we introduced hazelcast , we were doing it like this and were having issues in replication and TTL expiration)\n2. trustLevelPerDmiPlugin should not store the trustLevel. It should keep track of the health of the DMI plugin. So the storage would be the status of dmi-plugin i.e UP or DOWN.\n\nAbove to be handled as part of separate patches once the discussion is done.",
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adb596cc_6714c2b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 8063
      },
      "writtenOn": "2023-10-12T15:20:59Z",
      "side": 1,
      "message": "Agree with you Priyank on conditions. After those being discussed can be handled in a new commit.",
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a79b080b_3025e4c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-10-16T07:40:36Z",
      "side": 1,
      "message": "Blocking until we have  had a chat with Priyank about using Map v. IMap",
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4fcd7e2_8ab0af61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 8063
      },
      "writtenOn": "2023-10-16T12:53:51Z",
      "side": 1,
      "message": "Hi Toine \u0026 Priyank please find my comments below. Thanks.",
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bd3d313_3a13c4de",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 45,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-12T12:47:28Z",
      "side": 1,
      "message": "this has to be IMap here.\nI remember at the very beginning we were keeping it as Map and we were having some problems with the capabilities of hazelcast.",
      "range": {
        "startLine": 45,
        "startChar": 11,
        "endLine": 45,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f189b62_0c5d9a21",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-12T12:47:28Z",
      "side": 1,
      "message": "what do we exactly want to store here..\nI think we agreed to store the status..right ??\nUP or DOWN per dmi-plugin ???\n\nif you agree then the name also has to change.",
      "range": {
        "startLine": 56,
        "startChar": 35,
        "endLine": 56,
        "endChar": 57
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e29f015c_87783d88",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-12T12:47:28Z",
      "side": 1,
      "message": "same as before.",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab194ad2_436a80f8",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-10-16T07:40:36Z",
      "side": 1,
      "message": "Hi Priyank, can we discuss this. we changed it to Map delibertaly so it could be tested more easily. It jsut using higher level interface if no IMap specific methods er needed. WE have doen the same for the Hazelcat Queue is well before!\nNot suer what teh old issue was bug I think we might have been wrong thinking it was cause by using Map instead oif IMap... \nHalil has also doen end-2-end testing while debugging on his laptop and it all worked OPK...",
      "parentUuid": "e29f015c_87783d88",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a51a1c2_7772bdbf",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-16T09:00:32Z",
      "side": 1,
      "message": "Hi Toine , I know technically it totally makes sense to replace IMap with Map ( map being the parent interface of IMap )\nBut when we first introduced hazelcast in CPS and we did used Map instead of IMap I saw when running multiple instances , the data was not replicated and the TTL feature was not working.\n\nIt could be coz of something different back then as we were doing it for the first time.\nBut this is just my thinking that I had before.\n\nI would test it locally on my own and Open for discussion obviously.",
      "parentUuid": "ab194ad2_436a80f8",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5dd7dd3_c43abfe5",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 7965
      },
      "writtenOn": "2023-10-16T10:14:17Z",
      "side": 1,
      "message": "I tested on my local machine with multiple instances and came to a conclusion as below.\n\n1. if the TTL feature is not needed then use the Map interface ( as it would just provide us with standard collection Map api\u0027s )\n2. if the TTL feature is needed we use the more specialized interface i.e IMap.\nAs IMap provides us with APIs to put the keys with its TTL as well.\n\nReplication works for both the cases.\n\nAs I understand , we dont need to expire the keys in this use case. So I am ok to let this one merge.",
      "parentUuid": "0a51a1c2_7772bdbf",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35c7f7dd_47834d99",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 8063
      },
      "writtenOn": "2023-10-16T12:53:51Z",
      "side": 1,
      "message": "I agree that we should not need to use TTL feature since cm handle ids will  be updated when their state changed other than deleting them from the map. Also this commit is a blocker for the upcoming dev tasks. Thus If now the team agreed on based the tests made by Priyank and myself, we can proceed to merge this commit.",
      "parentUuid": "f5dd7dd3_c43abfe5",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5cde6c8_b9f55317",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/config/embeddedcache/TrustLevelCacheConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-10-16T13:50:53Z",
      "side": 1,
      "message": "OK just to clarify: IMAP inerface is only needed if you want DIFFERENT TTL for different objects in the map....",
      "parentUuid": "35c7f7dd_47834d99",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "A maximum \u0027Code-Review\u0027 vote from a non-uploader is required for the \u0027Code-Review\u0027 label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "A maximum \u0027Verified\u0027 vote from \u0027ONAP Required GHA\u0027 and one other CI or committer that is a non-uploader is required for the \u0027Verified\u0027 label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX,user\u003donap.required.gha AND label:Verified\u003dMAX,count\u003e\u003d2 AND label:Verified\u003dMAX,user\u003dnon_uploader AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX,user=onap.required.gha AND label:Verified=MAX,count>=2 AND label:Verified=MAX,user=non_uploader AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX,user=onap.required.gha","label:Verified=MAX,user=non_uploader","label:Verified=MAX,count>=2"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "7aae9b8af2c82336882d0ae864b970b1885a63a8",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}