{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "924c9f3f_12e19a90",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2024-02-06T16:57:57Z",
      "side": 1,
      "message": "I wonder if there wasn\u0027t a simpler solution, see my question below...",
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "262c1a0e_1c4f87f5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6742
      },
      "writtenOn": "2024-02-06T19:06:30Z",
      "side": 1,
      "message": "The more I think about the bug ticket, the less sense it makes.\nFirstly, it\u0027s of no consequence to the user when orphaned modules get cleaned up in the DB.\n\nMore importantly, removing orphaned modules is an implementation detail of CPS core, and has nothing to do with NCMP or CM-handles. The changes made here to \u0027fix\u0027 the issue create architectural problems where CPS-core no longer removes unused modules automatically! And makes NCMP responsible for this basic task. (Sorry Sourabh, I pointed you in this direction, but it\u0027s completely incorrect.)\n\nI think we should close the ticket as \u0027not a bug\u0027, and abandon the change as it won\u0027t lead to any improvements.\n\nSome more info:\nRegarding order of operations in NCMP handle deregistration: removing modules and cached data BEFORE removing cm-handles is the CORRECT behaviour, e.g. if an error occurs during module removal, the handle will remain (in DELETING state). If we had removed the cm-handle first, and an error occurred later, the handle would be gone, but the data/modules would be still in the system, leading to inconsistency. So current behaviour is correct.",
      "parentUuid": "924c9f3f_12e19a90",
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77bb5127_86977a72",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6742
      },
      "writtenOn": "2024-02-07T09:27:14Z",
      "side": 1,
      "message": "@Sourabh Having discussed with Toine, it\u0027s clear that there is an improvement by swapping lines 120 and 121 in CpsModuleServiceImpl.java. So if you revert other changes, we can approve",
      "parentUuid": "262c1a0e_1c4f87f5",
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6bf79506_2614680a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7957
      },
      "writtenOn": "2024-02-07T10:32:37Z",
      "side": 1,
      "message": "ACK",
      "parentUuid": "77bb5127_86977a72",
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30771fb7_94a4f9d7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7957
      },
      "writtenOn": "2024-02-07T10:32:37Z",
      "side": 1,
      "message": "Abandon as we have new commit : 137151: Orphaned modules are removed from the DB before cmhandle removal | https://gerrit.onap.org/r/c/cps/+/137151",
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eeca0d8e_0dbb8482",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 480,
      "author": {
        "id": 6639
      },
      "writtenOn": "2024-02-06T17:18:40Z",
      "side": 1,
      "message": "shoudl we call cpsModuleService.deleteUnusedYangResourceModules(); here too?",
      "range": {
        "startLine": 480,
        "startChar": 8,
        "endLine": 480,
        "endChar": 59
      },
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e685e181_8496f641",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 480,
      "author": {
        "id": 7957
      },
      "writtenOn": "2024-02-07T10:32:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "eeca0d8e_0dbb8482",
      "range": {
        "startLine": 480,
        "startChar": 8,
        "endLine": 480,
        "endChar": 59
      },
      "revId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "A maximum \u0027Code-Review\u0027 vote from a non-uploader is required for the \u0027Code-Review\u0027 label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "A maximum \u0027Verified\u0027 vote from \u0027ONAP Required GHA\u0027 and one other CI or committer that is a non-uploader is required for the \u0027Verified\u0027 label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX,user\u003donap.required.gha AND label:Verified\u003dMAX,count\u003e\u003d2 AND label:Verified\u003dMAX,user\u003dnon_uploader AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX,user=onap.required.gha AND label:Verified=MAX,count>=2 AND label:Verified=MAX,user=non_uploader AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX,user=onap.required.gha","label:Verified=MAX,user=non_uploader","label:Verified=MAX,count>=2"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "3517601d05b46bcce4e5a614a57435f43b7f7817",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}