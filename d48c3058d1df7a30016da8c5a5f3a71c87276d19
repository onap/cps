{
  "comments": [
    {
      "key": {
        "uuid": "7a861350_ac64aa14",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 470,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T13:17:58Z",
      "side": 1,
      "message": "I think can be removed then based on previous comment",
      "range": {
        "startLine": 470,
        "startChar": 0,
        "endLine": 470,
        "endChar": 42
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3614e34_316a05e0",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 470,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-08T10:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a861350_ac64aa14",
      "range": {
        "startLine": 470,
        "startChar": 0,
        "endLine": 470,
        "endChar": 42
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdd44811_dc487504",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "Same query is executed twice. The result from line 76 could be reused here.",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "556ebdc9_509d8760",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:45:16Z",
      "side": 1,
      "message": "agreed, missed that",
      "parentUuid": "bdd44811_dc487504",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7001e87f_0bd2a8b3",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-06T10:00:16Z",
      "side": 1,
      "message": "Sure I will fix that but I was thinking that the request is not required anymore, because earlier it was being called when I was implementing V2 from scratch but with the changes of CPS-1422 I think this is no longer required. I can see it is no longer being used anywhere and was kept from the perspective of future use. So should it be kept or removed? need team input.",
      "parentUuid": "556ebdc9_509d8760",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "073b1604_a00abe5c",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "i this method is not being called from anywhere (any production code) anymore it can be removed. (if it is only called form test remove tehproduction code \u0026 test)\nif it is used somewhere the comments above should be applied, I think it is quite straightforward no discussion needed...",
      "parentUuid": "7001e87f_0bd2a8b3",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c6f5c93_1e901739",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "Since the code is not being used anywhere(production or tests) I am removing it",
      "parentUuid": "073b1604_a00abe5c",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7bf0fc1_61998780",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 355,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "remove this column (always same value , no need for column)",
      "range": {
        "startLine": 355,
        "startChar": 71,
        "endLine": 355,
        "endChar": 89
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c33863c0_e337d874",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 355,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "Just noticed. Repeated test case same as line 387. Removed this!",
      "parentUuid": "f7bf0fc1_61998780",
      "range": {
        "startLine": 355,
        "startChar": 71,
        "endLine": 355,
        "endChar": 89
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd6a4d0d_f8485f2a",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsPersistenceSpecBase.groovy",
        "patchSetId": 10
      },
      "lineNbr": 63,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "NB: I see you removed \u0027final\u0027 ... because it is Groovy?\nif you want to apply our groovy conventions we should\u0027nt use \u0027String\u0027 either\neach line should just be \u0027static def .... \u003d ....\u0027",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 17
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "129643f7_8b5d073e",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsPersistenceSpecBase.groovy",
        "patchSetId": 10
      },
      "lineNbr": 63,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "removed String, replaced with def",
      "parentUuid": "fd6a4d0d_f8485f2a",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 17
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa39947e_4c16a635",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 10
      },
      "lineNbr": 80,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "NB Discuss with Luke: we should start using the new testing framework using the service layer to insert a redabel tes model and data in a verified way... This can be done in a separate commit",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 80,
        "endChar": 116
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "daebbe1b_06899fbd",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 10
      },
      "lineNbr": 80,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fa39947e_4c16a635",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 80,
        "endChar": 116
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e97829a_d139c683",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 10
      },
      "lineNbr": 80,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-15T07:41:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "daebbe1b_06899fbd",
      "range": {
        "startLine": 72,
        "startChar": 0,
        "endLine": 80,
        "endChar": 116
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c366b30f_97b0a8d8",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 149,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "Do we really need V\" in the method name, this comes from the REST layer it should NOT affect the service layer, if needed (only id signature is identical)  expand the method name to explain the difference \u0027V2\u0027 doesn\u0027t mean anything to a user of the service api!",
      "range": {
        "startLine": 149,
        "startChar": 44,
        "endLine": 149,
        "endChar": 46
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "981e40c7_3b53aa58",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 149,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "will rename as getMultipleDataNodes()",
      "parentUuid": "c366b30f_97b0a8d8",
      "range": {
        "startLine": 149,
        "startChar": 44,
        "endLine": 149,
        "endChar": 46
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af30e702_d5dd8ce7",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "Should this logic be moved to cps-ri/CpsDataPersistenceServiceImpl.java? It would be more consistent with other code. I mean something like this:\n    cpsValidator.validateNameCharacters(dataspaceName, anchorName);\n    return cpsDataPersistenceService.getDataNodesV2(dataspaceName, anchorName, xpaths, fetchDescendantsOption);\n\nAny other opinions?",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e33439e_eff408de",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-06T10:00:16Z",
      "side": 1,
      "message": "The reason for this logic being in service layer is because the persistence layer already implements getDataNodes() which was originally supposed to implement this logic but due to the requirement of CPS-1422 check for Invalid xPath and non-existing xpath is not implemented there and was moved to the service layer. Once the checks are done it calls getDataNodes on line 174. This is for team reference and we can discuss where to exactly keep/move the code 😊",
      "parentUuid": "af30e702_d5dd8ce7",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7714cb56_3a005e83",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "I do think it is the responsibility of the ri layer to check/ignore invalid paths.\nAlso to handle rootnode should be done there so I agree with Daniel\u0027s assessment and propose to move most of this code to the RI layer",
      "parentUuid": "1e33439e_eff408de",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0585fb4_251e44ab",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "ok moved the logic to CpsDataPersistenceService.getMultipleDataNodes which then calls CpsDataPersistenceService.getDataNodes",
      "parentUuid": "7714cb56_3a005e83",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c036f22_84a8d5b9",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "CpsPathUtil.getNormalizedXpath(xpath) already throws PathParsingException. Maybe it should be this?\n            } catch (final PathParsingException e) {\n                throw new CpsPathException(e.getMessage());",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21533311_e461f31b",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:45:16Z",
      "side": 1,
      "message": "Bit confusing but CpsPathException is for the query endpoints where \"CPS Path\" is used where as the intent for this is xpath, so we want the PathParsingException to be thrown here",
      "parentUuid": "1c036f22_84a8d5b9",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7cd8b30_83316f67",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:46:14Z",
      "side": 1,
      "message": "If anything we probably just don\u0027t need to capture the exception",
      "parentUuid": "21533311_e461f31b",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32bf8ca4_b4998b87",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-13T13:57:45Z",
      "side": 1,
      "message": "cross checked it. getNormalizedNode throws the same exception. Only difference is in the error message. So it will be fine to remove this.",
      "parentUuid": "d7cd8b30_83316f67",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaa93f16_fa2a6839",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 414,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "General comment: I think we should look at making root xpaths consistent everywhere. For example, on lines 328 and 358 of this file, a root xpath is defined as \"/\":\n        if (ROOT_NODE_XPATH.equals(parentNodeXpath)) {\n\nBut here (and in other classes), it\u0027s defined as \"/\" or empty string.",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51900dd3_dc1bdbb8",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 414,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "it might be that empty string is no possible everywhere. But maybe it the check is done by the same line of code in a common utility class it it probably OK ...",
      "parentUuid": "eaa93f16_fa2a6839",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47fb2e73_093e38ec",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 414,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "since the logic for comment on line 150 is moved to persistence layer this is no longer required.",
      "parentUuid": "51900dd3_dc1bdbb8",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6feb79f4_75ff7051",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-02-09T09:21:21Z",
      "side": 1,
      "message": "didn\u0027t review the test as the required production code changes might impact on these...",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3612e44c_517c404a",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-09T15:30:13Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6feb79f4_75ff7051",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "851fba08_269c28e6",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-13T13:57:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3612e44c_517c404a",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}