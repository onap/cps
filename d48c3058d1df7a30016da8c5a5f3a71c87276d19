{
  "comments": [
    {
      "key": {
        "uuid": "7a861350_ac64aa14",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 470,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T13:17:58Z",
      "side": 1,
      "message": "I think can be removed then based on previous comment",
      "range": {
        "startLine": 470,
        "startChar": 0,
        "endLine": 470,
        "endChar": 42
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdd44811_dc487504",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "Same query is executed twice. The result from line 76 could be reused here.",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "556ebdc9_509d8760",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:45:16Z",
      "side": 1,
      "message": "agreed, missed that",
      "parentUuid": "bdd44811_dc487504",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7001e87f_0bd2a8b3",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 10
      },
      "lineNbr": 79,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-06T10:00:16Z",
      "side": 1,
      "message": "Sure I will fix that but I was thinking that the request is not required anymore, because earlier it was being called when I was implementing V2 from scratch but with the changes of CPS-1422 I think this is no longer required. I can see it is no longer being used anywhere and was kept from the perspective of future use. So should it be kept or removed? need team input.",
      "parentUuid": "556ebdc9_509d8760",
      "range": {
        "startLine": 79,
        "startChar": 15,
        "endLine": 79,
        "endChar": 50
      },
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af30e702_d5dd8ce7",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "Should this logic be moved to cps-ri/CpsDataPersistenceServiceImpl.java? It would be more consistent with other code. I mean something like this:\n    cpsValidator.validateNameCharacters(dataspaceName, anchorName);\n    return cpsDataPersistenceService.getDataNodesV2(dataspaceName, anchorName, xpaths, fetchDescendantsOption);\n\nAny other opinions?",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e33439e_eff408de",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 150,
      "author": {
        "id": 7846
      },
      "writtenOn": "2023-02-06T10:00:16Z",
      "side": 1,
      "message": "The reason for this logic being in service layer is because the persistence layer already implements getDataNodes() which was originally supposed to implement this logic but due to the requirement of CPS-1422 check for Invalid xPath and non-existing xpath is not implemented there and was moved to the service layer. Once the checks are done it calls getDataNodes on line 174. This is for team reference and we can discuss where to exactly keep/move the code ðŸ˜Š",
      "parentUuid": "af30e702_d5dd8ce7",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c036f22_84a8d5b9",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "CpsPathUtil.getNormalizedXpath(xpath) already throws PathParsingException. Maybe it should be this?\n            } catch (final PathParsingException e) {\n                throw new CpsPathException(e.getMessage());",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21533311_e461f31b",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:45:16Z",
      "side": 1,
      "message": "Bit confusing but CpsPathException is for the query endpoints where \"CPS Path\" is used where as the intent for this is xpath, so we want the PathParsingException to be thrown here",
      "parentUuid": "1c036f22_84a8d5b9",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7cd8b30_83316f67",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 7830
      },
      "writtenOn": "2023-02-03T15:46:14Z",
      "side": 1,
      "message": "If anything we probably just don\u0027t need to capture the exception",
      "parentUuid": "21533311_e461f31b",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaa93f16_fa2a6839",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 414,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-02-03T15:03:18Z",
      "side": 1,
      "message": "General comment: I think we should look at making root xpaths consistent everywhere. For example, on lines 328 and 358 of this file, a root xpath is defined as \"/\":\n        if (ROOT_NODE_XPATH.equals(parentNodeXpath)) {\n\nBut here (and in other classes), it\u0027s defined as \"/\" or empty string.",
      "revId": "d48c3058d1df7a30016da8c5a5f3a71c87276d19",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}