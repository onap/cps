{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e384f130_a6d60750",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-10-23T13:09:39Z",
      "side": 1,
      "message": "Please see my comments...",
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3265f924_15c1c275",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/sync/ModuleSyncWatchdog.java",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 7931
      },
      "writtenOn": "2025-10-23T12:54:24Z",
      "side": 1,
      "message": "would go for moduleSyncWorkQueueLock",
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f705d3ac_ed300a77",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/sync/ModuleSyncWatchdog.java",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 7931
      },
      "writtenOn": "2025-10-23T12:55:22Z",
      "side": 1,
      "message": "NB",
      "parentUuid": "3265f924_15c1c275",
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0523e567_a3c69c79",
        "filename": "cps-service/src/main/java/org/onap/cps/init/CpsNotificationSubscriptionModelLoader.java",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-10-23T13:09:39Z",
      "side": 1,
      "message": "shouldn\u0027t you release the lock once the model loading finished?\n\nif the lock is not released here, then ModelLoaderCoordinatorEnd with Order(999) can not acquire the lock to release it at final stage. \n\nThe smilar behaviour does exist for the other model loaders: InventoryModelLoader with Order(2) and CmDataSubscriptionModelLoader with Order(3)",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 50
      },
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5c68abb_1bf6360a",
        "filename": "cps-service/src/main/java/org/onap/cps/init/CpsNotificationSubscriptionModelLoader.java",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 7965
      },
      "writtenOn": "2025-10-23T14:09:35Z",
      "side": 1,
      "message": "we dont need to acquire the lock to unlock it.\nwe are internally calling a forceunlock method that will release any acquired lock.",
      "parentUuid": "0523e567_a3c69c79",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 50
      },
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54d8e70d_888f2f47",
        "filename": "cps-service/src/main/java/org/onap/cps/init/CpsNotificationSubscriptionModelLoader.java",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-10-23T14:35:10Z",
      "side": 1,
      "message": "as agreed we will have a call offline to discuss it a bit more in details.",
      "parentUuid": "c5c68abb_1bf6360a",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 50
      },
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30284f70_2092143d",
        "filename": "cps-service/src/main/java/org/onap/cps/init/CpsNotificationSubscriptionModelLoader.java",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 8063
      },
      "writtenOn": "2025-10-24T14:45:07Z",
      "side": 1,
      "message": "I was thinking on the scenario below:\n\n1- All model loaders successfully loaded models (assuming).\n\n2- ModelLoaderCoordinatorEnd with Order(999) be called. Then, it will check isMaster flag true to release the lock. \n\n3- Then, it will go AbstractModelLoader.java -\u003e checkIfThisInstanceIsMaster\n\n4- Then, ModelLoaderCoordinatorLock -\u003e cpsCommonLocks.tryLock(\"modelLoaderLock\")\n\nDo you think that tryLock function will return true, to make ModelLoaderCoordinatorEnd master and set isMaster to true?",
      "parentUuid": "54d8e70d_888f2f47",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 50
      },
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e55554e_a3e47cd4",
        "filename": "cps-service/src/main/java/org/onap/cps/init/CpsNotificationSubscriptionModelLoader.java",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-10-28T10:27:14Z",
      "side": 1,
      "message": "Locks are held be an CPS instance not by a class/object or thread ie the \u0027master\u0027 instance HAS the lock ie. any time a class tries to acquire the lock it realizes it already has it... \nThe lock gets released AFTER all model loaders are finished by the last \u0027model loader\u0027: ModelLoaderCoordinatorEnd",
      "parentUuid": "30284f70_2092143d",
      "range": {
        "startLine": 59,
        "startChar": 12,
        "endLine": 59,
        "endChar": 50
      },
      "revId": "919ae48dbfb87269ce37e38563c749920af56ba2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}