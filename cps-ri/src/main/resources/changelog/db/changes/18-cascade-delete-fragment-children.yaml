databaseChangeLog:
  - changeSet:
      author: cps
      id: 18
      changes:
        - dropForeignKeyConstraint:
            baseTableName: fragment
            constraintName: fragment_parent_id_fkey
        - addForeignKeyConstraint:
            baseColumnNames: parent_id
            baseTableName: fragment
            constraintName: fragment_parent_id_fkey
            deferrable: false
            initiallyDeferred: false
            onDelete: CASCADE
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: fragment
            validate: true
      rollback:
        - dropForeignKeyConstraint:
            baseTableName: fragment
            constraintName: fragment_parent_id_fkey
        - addForeignKeyConstraint:
            baseColumnNames: parent_id
            baseTableName: fragment
            constraintName: fragment_parent_id_fkey
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: fragment
            validate: true
