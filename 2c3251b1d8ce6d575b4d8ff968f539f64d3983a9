{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "51c40a90_fcecfa7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 7957
      },
      "writtenOn": "2025-04-15T10:13:01Z",
      "side": 1,
      "message": "It looks good",
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36ffb61f_27b200d0",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/AlternateIdChecker.java",
        "patchSetId": 9
      },
      "lineNbr": 99,
      "author": {
        "id": 7965
      },
      "writtenOn": "2025-04-15T10:05:07Z",
      "side": 1,
      "message": "i think we have to change this method name coz there is no interaction with the DB now here.",
      "range": {
        "startLine": 99,
        "startChar": 24,
        "endLine": 99,
        "endChar": 50
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3208665a_8dbf3431",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/AlternateIdChecker.java",
        "patchSetId": 9
      },
      "lineNbr": 99,
      "author": {
        "id": 7931
      },
      "writtenOn": "2025-04-15T10:07:22Z",
      "side": 1,
      "message": "in a sense if its in db its in cache , would it be getAlternateIdsAlreadyInCache ?",
      "parentUuid": "36ffb61f_27b200d0",
      "range": {
        "startLine": 99,
        "startChar": 24,
        "endLine": 99,
        "endChar": 50
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5052a48_e3a82767",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/AlternateIdChecker.java",
        "patchSetId": 9
      },
      "lineNbr": 99,
      "author": {
        "id": 7931
      },
      "writtenOn": "2025-04-15T10:08:28Z",
      "side": 1,
      "message": "would do in seperate patch",
      "parentUuid": "3208665a_8dbf3431",
      "range": {
        "startLine": 99,
        "startChar": 24,
        "endLine": 99,
        "endChar": 50
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8a12e10_f8b6de40",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/CmHandleRegistrationService.java",
        "patchSetId": 9
      },
      "lineNbr": 157,
      "author": {
        "id": 7965
      },
      "writtenOn": "2025-04-15T10:05:07Z",
      "side": 1,
      "message": "NB: Ok. so the key of the hz-map can be a cmhandleid or an alternate id. do we name the map differently then ??",
      "range": {
        "startLine": 153,
        "startChar": 12,
        "endLine": 157,
        "endChar": 13
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c3d80d0_0cc8e1d4",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/CmHandleRegistrationServicePropertyHandler.java",
        "patchSetId": 9
      },
      "lineNbr": 131,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-04-15T07:37:59Z",
      "side": 1,
      "message": "Legacy issue, does this allow overriding an OLD non-blank alternate-id?!\n(i\u0027ll check it in the current master code too) but any fix can be outside the scope of this patch",
      "range": {
        "startLine": 131,
        "startChar": 17,
        "endLine": 131,
        "endChar": 34
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30e3a178_568cb11d",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/inventory/CmHandleRegistrationServicePropertyHandler.java",
        "patchSetId": 9
      },
      "lineNbr": 131,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-04-15T09:26:14Z",
      "side": 1,
      "message": "I checked with Daniel. This is checked before it gets here so is OK",
      "parentUuid": "8c3d80d0_0cc8e1d4",
      "range": {
        "startLine": 131,
        "startChar": 17,
        "endLine": 131,
        "endChar": 34
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d188642_a6b25734",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/utils/AlternateIdMatcher.java",
        "patchSetId": 9
      },
      "lineNbr": 78,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-04-15T07:37:59Z",
      "side": 1,
      "message": "NB: else not needed here",
      "range": {
        "startLine": 78,
        "startChar": 14,
        "endLine": 78,
        "endChar": 20
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4d1b194_bbeb21ca",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/utils/AlternateIdMatcher.java",
        "patchSetId": 9
      },
      "lineNbr": 79,
      "author": {
        "id": 6742
      },
      "writtenOn": "2025-04-15T09:15:54Z",
      "side": 1,
      "message": "See the code in org.onap.cps.ncmp.impl.data.DmiDataOperations#getDistinctCmHandleIds which is used in legacy batch data operation:\n\n    private Set\u003cString\u003e getDistinctCmHandleIds(final DataOperationRequest dataOperationRequest) {\n        return dataOperationRequest.getDataOperationDefinitions().stream()\n                .flatMap(it -\u003e it.getCmHandleReferences().stream())\n                .map(alternateIdMatcher::getCmHandleId)\n                .collect(Collectors.toSet());\n    }\n\nIt needs to be updated to ignore the CmHandleNotFoundException.\nEven better, it could use batch lookups with IMap.getAll(keys):\n\n    private Set\u003cString\u003e getDistinctCmHandleIds(final DataOperationRequest dataOperationRequest) {\n        final Set\u003cString\u003e cmHandleReferences \u003d dataOperationRequest.getDataOperationDefinitions().stream()\n                .flatMap(it -\u003e it.getCmHandleReferences().stream())\n                .collect(Collectors.toSet());\n        return cmHandleIdPerAlternateId.getAll(cmHandleReferences).values();\n    }",
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e46990b_3fa3abef",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/impl/utils/AlternateIdMatcher.java",
        "patchSetId": 9
      },
      "lineNbr": 79,
      "author": {
        "id": 6742
      },
      "writtenOn": "2025-04-15T09:31:16Z",
      "side": 1,
      "message": "You can disregard previous comment. I realize there is a bug around the legacy batch operation, but it was not caused by this commit. I will create a separate Jir aticket for this.",
      "parentUuid": "a4d1b194_bbeb21ca",
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d94aa1d_52e78542",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/init/AlternateIdCacheDataLoaderSpec.groovy",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 6639
      },
      "writtenOn": "2025-04-15T07:37:59Z",
      "side": 1,
      "message": "NB: I think because you are NOT using any IMap specific method in this test a normal map will suffice here, using groovy like so: cmHandleIdPerAlternateId \u003d [:]",
      "range": {
        "startLine": 34,
        "startChar": 39,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12f64844_f47a45a1",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/init/AlternateIdCacheDataLoaderSpec.groovy",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 7931
      },
      "writtenOn": "2025-04-15T09:45:08Z",
      "side": 1,
      "message": "would still need to put \u0027mockCmHandleIdPerAlternateId as IMap\u0027 on the constructor",
      "parentUuid": "2d94aa1d_52e78542",
      "range": {
        "startLine": 34,
        "startChar": 39,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "2c3251b1d8ce6d575b4d8ff968f539f64d3983a9",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}