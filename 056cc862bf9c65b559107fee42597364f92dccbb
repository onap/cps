{
  "comments": [
    {
      "key": {
        "uuid": "14fa3722_8a3a5bd9",
        "filename": "csit/install-robotframework.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-09-16T16:39:24Z",
      "side": 1,
      "message": "just a question: I see no changes anywhere else related to starting this script who/what runs this script?",
      "revId": "056cc862bf9c65b559107fee42597364f92dccbb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeb36fa9_4db0fe7d",
        "filename": "csit/install-robotframework.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1215
      },
      "writtenOn": "2021-09-17T14:04:04Z",
      "side": 1,
      "message": "in CI, we will directly call the robot file from a xtesting docker. We can imagine to add csit test in the existing smoke-usecases-robot. The default input CPS port/CPS URL could be retrieved from the robot cm that is used for the robot based tests. \nWe were able to execute the test from an integration job this morning but we got errors\n2021-09-17 09:31:58,005 - xtesting.ci.run_tests - INFO - Deployment description:\n\n+-------------------------+----------------------------------------------------------+\n|         ENV VAR         |                          VALUE                           |\n+-------------------------+----------------------------------------------------------+\n|         CI_LOOP         |                          daily                           |\n|          DEBUG          |                          false                           |\n|     DEPLOY_SCENARIO     |                   onap-nofeature-noha                    |\n|      INSTALLER_TYPE     |                           oom                            |\n|        BUILD_TAG        |      gitlab_ci-functest-kubespray-baremetal-daily-       |\n|                         |                  master-371595838-onap                   |\n|        NODE_NAME        |             onap_daily_pod4_master-ONAP-oom              |\n|       TEST_DB_URL       |     http://testresults.opnfv.org/onap/api/v1/results     |\n|     TEST_DB_EXT_URL     |                                                          |\n|     S3_ENDPOINT_URL     |                                                          |\n|        S3_DST_URL       |                                                          |\n|       HTTP_DST_URL      |                                                          |\n+-------------------------+----------------------------------------------------------+\n\n2021-09-17 09:31:58,036 - xtesting.ci.run_tests - INFO - Loading test case \u0027cps\u0027...\n2021-09-17 09:31:58,180 - xtesting.ci.run_tests - INFO - Running test case \u0027cps\u0027...\n2021-09-17 09:31:58,253 - xtesting.core.robotframework - INFO - \n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nActuator :: CPS - Actuator endpoints                                          \n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nTest Liveness Probe Endpoint                                          | FAIL |\nNo keyword with name \u0027GET On Session\u0027 found.\n------------------------------------------------------------------------------\nTest Readiness Probe Endpoint                                         | FAIL |\nNo keyword with name \u0027GET On Session\u0027 found.\n------------------------------------------------------------------------------\nActuator :: CPS - Actuator endpoints                                  | FAIL |\n2 critical tests, 0 passed, 2 failed\n2 tests total, 0 passed, 2 failed\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nOutput:  /var/lib/xtesting/results/cps/output.xml\n\n2021-09-17 09:31:58,254 - xtesting.core.robotframework - INFO - Results were successfully parsed\n2021-09-17 09:31:58,289 - xtesting.core.robotframework - INFO - Results were successfully generated\n2021-09-17 09:31:58,290 - xtesting.ci.run_tests - INFO - Test result:\n\n+-------------------+---------------------+------------------+----------------+\n|     TEST CASE     |       PROJECT       |     DURATION     |     RESULT     |\n+-------------------+---------------------+------------------+----------------+\n|        cps        |     integration     |      00:00       |      FAIL      |\n+-------------------+---------------------+------------------+----------------+\n\n2021-09-17 09:31:58,605 - xtesting.core.testcase - ERROR - The HTTP request raises issues\n\nit could be due to the fact that on an OOM deployment an authentication is asked to reach cps-core:cps-port/manage\n\nwhen I expose cps-core manually and run a curl command I get a 401\nAditya is having a look at the CPS instance deployed by OOM to see if there any conf difference.",
      "parentUuid": "14fa3722_8a3a5bd9",
      "revId": "056cc862bf9c65b559107fee42597364f92dccbb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "160b47da_f1dac025",
        "filename": "csit/install-robotframework.sh",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-09-20T13:52:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "aeb36fa9_4db0fe7d",
      "revId": "056cc862bf9c65b559107fee42597364f92dccbb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}