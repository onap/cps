{
  "comments": [
    {
      "key": {
        "uuid": "85b52757_fe1dadae",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 441,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "can you use 2 different collections it looks like you are overriding te eprevisou result... Two collections with clear names would be better",
      "range": {
        "startLine": 441,
        "startChar": 8,
        "endLine": 441,
        "endChar": 33
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e9c5081_73f1decc",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 441,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-13T08:14:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "85b52757_fe1dadae",
      "range": {
        "startLine": 441,
        "startChar": 8,
        "endLine": 441,
        "endChar": 33
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "497042f1_fae80319",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepository.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "q: why do you need a separte repositoty?\na: because you are writign your own queries correct?",
      "range": {
        "startLine": 28,
        "startChar": 17,
        "endLine": 28,
        "endChar": 44
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47d5fb2c_165c106c",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepository.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-13T08:14:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "497042f1_fae80319",
      "range": {
        "startLine": 28,
        "startChar": 17,
        "endLine": 28,
        "endChar": 44
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0144daa0_f65bf696",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepositoryImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "back to teh goog old days :-)",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 44
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be466621_c7d1b5e7",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepositoryImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-13T08:14:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0144daa0_f65bf696",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 44
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18cfc2c6_2f12b3e7",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepositoryImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "would prefer longer names: \nc \u003d child\np \u003d parent\nand maybe dont use f just use the original table name: \u0027fragment\u0027",
      "range": {
        "startLine": 94,
        "startChar": 37,
        "endLine": 94,
        "endChar": 38
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5964c46f_8d263297",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentPrefetchRepositoryImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-06-14T10:55:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18cfc2c6_2f12b3e7",
      "range": {
        "startLine": 94,
        "startChar": 37,
        "endLine": 94,
        "endChar": 38
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "386ac2a1_83431e56",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 2
      },
      "lineNbr": 72,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "q: what des this do, why is it needed?",
      "range": {
        "startLine": 72,
        "startChar": 71,
        "endLine": 72,
        "endChar": 78
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c7a47f0_14e33beb",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 2
      },
      "lineNbr": 72,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-06-14T10:55:23Z",
      "side": 1,
      "message": "This query is used by the old getFragmentEntity API that returns only a single FragmentEntity (hence LIMIT 1). Specifically, this SQL query is used for root xpath handling. Previously, that code used FragmentExtract logic, which I wanted to minimize use of.",
      "parentUuid": "386ac2a1_83431e56",
      "range": {
        "startLine": 72,
        "startChar": 71,
        "endLine": 72,
        "endChar": 78
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e45d23d_99fa7d4b",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 6639
      },
      "writtenOn": "2023-06-12T10:52:25Z",
      "side": 1,
      "message": "why has this changed?",
      "range": {
        "startLine": 307,
        "startChar": 104,
        "endLine": 307,
        "endChar": 105
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33f83065_b94b9ead",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 6742
      },
      "writtenOn": "2023-06-14T10:55:23Z",
      "side": 1,
      "message": "This is an edge case involving use of root and non-root xpaths with OMIT_DESCENDANTS.\n\nBefore, if we requested root and a child [\"/\", \"/parent-200/child-201\"], the child would not be included in the result list, because FragmentEntityArranger would connect the child to the parent - even with OMIT_DESCENDANTS. With new changes, we get back [\"/parent-200\", \"/parent-201\", ... \"/parent-200/child-201\"], which I think makes more sense.\nI didn\u0027t spend much time trying preserve original behaviour here, given this is an edge case. I doubt any users would deliberately request root and non-root xpaths in the same request.\n\nIf we want to make the API more stable for these edge cases, we could change behaviour so that we only either handle root or non-root xpaths in a single call (e.g. if we see a root xpath, we could ignore non-root ones, or even throw an IllegalArgumentException). What you think?",
      "parentUuid": "9e45d23d_99fa7d4b",
      "range": {
        "startLine": 307,
        "startChar": 104,
        "endLine": 307,
        "endChar": 105
      },
      "revId": "b59c2414d87efd3a7954cca06d2c5aebdcd64230",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}