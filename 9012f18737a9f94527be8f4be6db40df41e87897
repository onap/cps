{
  "comments": [
    {
      "key": {
        "uuid": "5f43d5eb_4563a323",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-16T11:27:26Z",
      "side": 1,
      "message": "for now do not handle witDescendants option (as per original scope), it raises too many issues and questions",
      "range": {
        "startLine": 132,
        "startChar": 8,
        "endLine": 132,
        "endChar": 59
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e997ab1b_6e478130",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 7362
      },
      "writtenOn": "2021-02-15T07:57:02Z",
      "side": 1,
      "message": "parsing xpath string in order to retrieve the request parameters \nshould not be a responsibility of persistence service.\nupdate interface to accept the ready to use parameters:\n\nqueryDataNodes(final String dataspaceName, final String anchorName, \nfinal String xpathPrefix, \nfinal Map\u003cString, Object\u003e queryLeaves,\nfinal FetchDescendantsOption fetchDescendantsOption);\n\nCpsPathException should be removed as out of scope for this task",
      "range": {
        "startLine": 136,
        "startChar": 7,
        "endLine": 139,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e56481d2_35c3fcd3",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T08:57:47Z",
      "side": 1,
      "message": "cpsPath has been agreed a few month back to follow xPath functionality, so this user story is introducing teh first functionality for this. Niamh is taking the right approach",
      "parentUuid": "e997ab1b_6e478130",
      "range": {
        "startLine": 136,
        "startChar": 7,
        "endLine": 139,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d10486b8_82496146",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 6679
      },
      "writtenOn": "2021-02-16T07:44:57Z",
      "side": 1,
      "message": "Both are right :), Can we encapsulate this on their own class e.g. CpsPath. Which will have this responsibility [line 136 - 140 + Excption if incorrect ], and will be passed as parameter for this method and others that will need it",
      "parentUuid": "e56481d2_35c3fcd3",
      "range": {
        "startLine": 136,
        "startChar": 7,
        "endLine": 139,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e2371c8_6b458257",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 7362
      },
      "writtenOn": "2021-02-16T06:43:49Z",
      "side": 1,
      "message": "this will cause _any_ descendant with matching attribute being treated as a valid result.\nif requested \u0027cpsPath\u0027 is /path[@attr\u003dvalue]\nand there is an entry with path /path/child/grand-child and {attr:value}\nthe entry of wrong type from wrong level of depth will be returned.\nit\u0027s a bug",
      "range": {
        "startLine": 55,
        "startChar": 86,
        "endLine": 55,
        "endChar": 96
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4636bd9_106444ed",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-16T11:44:22Z",
      "side": 1,
      "message": "i asked Niamh the same before, and asked her to add tests to proof this is not the case. \nMaybe we need to double check those test again if they are passing for a different reason (false positives)\nor do we need more scenarios.",
      "parentUuid": "7e2371c8_6b458257",
      "range": {
        "startLine": 55,
        "startChar": 86,
        "endLine": 55,
        "endChar": 96
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdcce73f_270dde59",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 7362
      },
      "writtenOn": "2021-02-15T07:57:02Z",
      "side": 1,
      "message": "replace with to_jsonb(:leavesAsJsonString)\nno reason to initially limit the query with single leaf condition\nupdate the method signature accordingly",
      "range": {
        "startLine": 56,
        "startChar": 12,
        "endLine": 56,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "779cefa4_d635e24b",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "it is not in scope and it raises doubt/options about using and/or condition.\nStick to scope don\u0027t implement what is not needed now.",
      "parentUuid": "cdcce73f_270dde59",
      "range": {
        "startLine": 56,
        "startChar": 12,
        "endLine": 56,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e07e457_6700e888",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 6679
      },
      "writtenOn": "2021-02-16T07:44:57Z",
      "side": 1,
      "message": "I do not see reason why not use to_jsonb(:leavesAsJsonString), so I agree that is a good change to be done.\nIf there is code impact I will go with Toine,  my understanding is that there is no such code impact / change required by using it.",
      "parentUuid": "779cefa4_d635e24b",
      "range": {
        "startLine": 56,
        "startChar": 12,
        "endLine": 56,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee67cd6a_f923ffbd",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/repository/FragmentRepository.java",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-16T11:44:22Z",
      "side": 1,
      "message": "i probably need to see it implemented to decide but I am always hesitant to go beyond the original scope, if it does work easily then we do need to clarify whether the filter will apply \u0027and\u0027 or \u0027or\u0027 but in either case this will NOT be used until we expand teh cpsPath functionality to handle multiple attributes with and/or as specified by xpath spec",
      "parentUuid": "7e07e457_6700e888",
      "range": {
        "startLine": 56,
        "startChar": 12,
        "endLine": 56,
        "endChar": 54
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1e73568_aec9d5ea",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "expectedNUmberOfChildren",
      "range": {
        "startLine": 217,
        "startChar": 140,
        "endLine": 217,
        "endChar": 156
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "492dce6d_f84645a2",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 224,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "an",
      "range": {
        "startLine": 224,
        "startChar": 16,
        "endLine": 224,
        "endChar": 18
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "507848cb_575c1e80",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 228,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "new lien not needed?",
      "range": {
        "startLine": 228,
        "startChar": 19,
        "endLine": 228,
        "endChar": 53
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8934c541_e89c312d",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-16T11:55:37Z",
      "side": 1,
      "message": "(re-supplying los t comment :-))\nreword, sugestions:\nreturn no result\nreturn empty collection\nfind no data",
      "range": {
        "startLine": 234,
        "startChar": 61,
        "endLine": 234,
        "endChar": 80
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "115d8ba4_fe64dee1",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 238,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "see above",
      "range": {
        "startLine": 238,
        "startChar": 18,
        "endLine": 238,
        "endChar": 29
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "404bfc40_801c7803",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-15T17:05:00Z",
      "side": 1,
      "message": "I think a more basic example might be more readable. ie bookstore or trees, birds \u0026 nests :-)",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 28,
        "endChar": 73
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7826d0c_c392e966",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 6679
      },
      "writtenOn": "2021-02-16T07:44:57Z",
      "side": 1,
      "message": "Can we reuse what is on line 19 or start bringing something in common for present tests and futures ones. So we don\u0027t need to add per use case data?",
      "parentUuid": "404bfc40_801c7803",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 28,
        "endChar": 73
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a77d3978_373bc85c",
        "filename": "cps-ri/src/test/resources/data/fragment.sql",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-02-16T11:44:22Z",
      "side": 1,
      "message": "I argued that before; we can have a good single data set that suits most use cases\n(I stil wonder could we load the bookstore model and data from our tets resources somehow, maybe as part of a future improvement)",
      "parentUuid": "a7826d0c_c392e966",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 28,
        "endChar": 73
      },
      "revId": "9012f18737a9f94527be8f4be6db40df41e87897",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}