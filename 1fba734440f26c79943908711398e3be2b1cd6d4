{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8176b3e2_a8adfbe2",
        "filename": "cps-rest/docs/openapi/components.yml",
        "patchSetId": 4
      },
      "lineNbr": 379,
      "author": {
        "id": 7965
      },
      "writtenOn": "2024-07-22T11:00:18Z",
      "side": 1,
      "message": "just thinking now.\nif you change the content to application/json now , does it need to have a relevant schema for the same and not just string ??",
      "range": {
        "startLine": 379,
        "startChar": 8,
        "endLine": 379,
        "endChar": 25
      },
      "revId": "1fba734440f26c79943908711398e3be2b1cd6d4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "613da1d9_50402686",
        "filename": "cps-rest/docs/openapi/components.yml",
        "patchSetId": 4
      },
      "lineNbr": 379,
      "author": {
        "id": 7846
      },
      "writtenOn": "2024-07-23T06:49:26Z",
      "side": 1,
      "message": "no a schema is not required as this handles the response in case of a write operation. So, when we post some data to be written to database usually nothing is returned in response body.\nAs per my understanding, since Created response was set to \"text/plain\" while other scenarios like BadRequest, Unauthorized, etc were set to \"application/json\", it was causing a conflict as to what the proper response format should be and hence it fell back to response code 500 as a default.\nAnd you can see that for the delta feature where we have a POST operation the response used is OK instead of Created because there, we return the delta report and OK response uses \"application/json\" which is consistent with other responses.",
      "parentUuid": "8176b3e2_a8adfbe2",
      "range": {
        "startLine": 379,
        "startChar": 8,
        "endLine": 379,
        "endChar": 25
      },
      "revId": "1fba734440f26c79943908711398e3be2b1cd6d4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "324f19cb_70d05c38",
        "filename": "cps-rest/docs/openapi/components.yml",
        "patchSetId": 4
      },
      "lineNbr": 379,
      "author": {
        "id": 7846
      },
      "writtenOn": "2024-07-23T09:42:51Z",
      "side": 1,
      "message": "the exception was thrown in the logs is as follows:\n\n{\"logTimeStamp\":\"2024-07-16T04:33:37.169Z\",\"logLevel\":\"WARN\",\"traceId\":\"fbd1027522dd80aa37bb77459bc23d41\",\"principalId\":\"cpsuser\",\"serviceName\":\"cps-application\",\"message\":\n\"Failure in @ExceptionHandler org.onap.cps.rest.exceptions.CpsRestExceptionHandler#handleBadRequestExceptions(Exception)\",\n\"spanId\":\"183859adcbaaa53a\",\"processId\":\"17552\",\"threadName\":\"qtp1169606246-25\",\"class\":\"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver\",\n\"exception\":\"\\r\norg.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation\\r\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:256)\\r\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)\\r\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\\r\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)\\r\n\\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432)\\r\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74)\\r\n\\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:175)\\r\n\\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)\\r\n\\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1357)\\r\n\\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1160)\\r\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)\\r\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\\r\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\\r\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\\r\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)\\r\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\\r\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHolder.handle(ServletHolder.java:736)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1614)\\r\n\\tat org.eclipse.jetty.ee10.websocket.servlet.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:195)\\r\n\\tat org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1586)\\r\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\n\\tat org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1586)\\r\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\n\\tat org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1586)\\r\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\r\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\n\\tat org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1586)\\r\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\n\\tat org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1586)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler$MappedServlet.handle(ServletHandler.java:1547)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletChannel.dispatch(ServletChannel.java:814)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletChannel.handle(ServletChannel.java:431)\\r\n\\tat org.eclipse.jetty.ee10.servlet.ServletHandler.handle(ServletHandler.java:464)\\r\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571)\\r\n\\tat org.eclipse.jetty.ee10.servlet.SessionHandler.handle(SessionHandler.java:703)\\r\n\\tat org.eclipse.jetty.server.handler.ContextHandler.handle(ContextHandler.java:765)\\r\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:179)\\r\n\\tat org.eclipse.jetty.server.internal.HttpChannelState$HandlerInvoker.run(HttpChannelState.java:619)\\r\n\\tat org.eclipse.jetty.server.internal.HttpConnection.onFillable(HttpConnection.java:411)\\r\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:322)\\r\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:99)\\r\n\\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\\r\n\\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:478)\\r\n\\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:441)\\r\n\\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:293)\\r\n\\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.produce(AdaptiveExecutionStrategy.java:195)\\r\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:971)\\r\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1201)\\r\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1156)\\r\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\n\\r\n\"}",
      "parentUuid": "613da1d9_50402686",
      "range": {
        "startLine": 379,
        "startChar": 8,
        "endLine": 379,
        "endChar": 25
      },
      "revId": "1fba734440f26c79943908711398e3be2b1cd6d4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a40fe3aa_309e78e3",
        "filename": "cps-rest/docs/openapi/components.yml",
        "patchSetId": 4
      },
      "lineNbr": 379,
      "author": {
        "id": 7846
      },
      "writtenOn": "2024-07-23T09:43:45Z",
      "side": 1,
      "message": "From the stack trace the following piece of info helped me find the problem:\n\n{\"logTimeStamp\":\"2024-07-16T04:33:37.169Z\",\"logLevel\":\"WARN\",\"traceId\":\"fbd1027522dd80aa37bb77459bc23d41\",\"principalId\":\"cpsuser\",\"serviceName\":\"cps-application\",\"message\":\n\"Failure in @ExceptionHandler org.onap.cps.rest.exceptions.CpsRestExceptionHandler#handleBadRequestExceptions(Exception)\",\n\"spanId\":\"183859adcbaaa53a\",\"processId\":\"17552\",\"threadName\":\"qtp1169606246-25\",\"class\":\"o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver\",\n\"exception\":\"\\r\norg.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation\\r",
      "parentUuid": "324f19cb_70d05c38",
      "range": {
        "startLine": 379,
        "startChar": 8,
        "endLine": 379,
        "endChar": 25
      },
      "revId": "1fba734440f26c79943908711398e3be2b1cd6d4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}