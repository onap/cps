{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7ae7a5e6_2f50124c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7931
      },
      "writtenOn": "2024-03-20T09:16:04Z",
      "side": 1,
      "message": "recheck",
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79b69f2b_bff9a66c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7965
      },
      "writtenOn": "2024-03-21T11:21:28Z",
      "side": 1,
      "message": "if I understand it correctly then it solves the basic purpose of saving new subscription and also if its an ongoing subscription then add it to the list of subscribers.",
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d642762f_aefdb692",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7931
      },
      "writtenOn": "2024-03-22T11:48:36Z",
      "side": 1,
      "message": "yes correct",
      "parentUuid": "79b69f2b_bff9a66c",
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e5f9535_c6ce410d",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/events/cmsubscription/service/CmNotificationSubscriptionPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 6742
      },
      "writtenOn": "2024-03-21T16:31:58Z",
      "side": 1,
      "message": "There\u0027s a few issues here around quotes, e.g. id value is both single and double-quoted (note Json does not support single-quotes). I think Java 17 multi-line strings make quotes much easier to handle, something like this:\n\n    updatedJson \u003d \"\"\"\n        {\"cm-handle\":[{\"id\":\"%s\",\"filters\":{\"filter\":[\n          {\"xpath\": \"%s\",\"subscriptionIds\": [\"%s\"]}]}}]}\n        \"\"\".formatted(cmHandleId, xpath, newSubscriptionId);",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 118
      },
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a32bd1e_bda5316c",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/events/cmsubscription/service/CmNotificationSubscriptionPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 6742
      },
      "writtenOn": "2024-03-21T16:36:52Z",
      "side": 1,
      "message": "Alternatively, if you prefer structures, can do something like - I prefer this to raw strings because it automatically takes care of escaping special characters like \":\n\n    updatedJson \u003d jsonObjectMapper.asJsonString(\n        Map.of(\"cm-handle\", Map.of(\"id\", cmHandleId, \n            \"filters\", Map.of(\"filter\", Map.of(\"xpath\", xpath, \n                \"subscriptionIds\", List.of(newSubscriptionId))))));",
      "parentUuid": "1e5f9535_c6ce410d",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 118
      },
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "40412fe8_5bbeaf59",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/events/cmsubscription/service/CmNotificationSubscriptionPersistenceServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 7931
      },
      "writtenOn": "2024-03-22T11:48:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a32bd1e_bda5316c",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 118
      },
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99da53d4_2053798a",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/events/cmsubscription/service/CmNotificationSubscriptionPersistenceServiceImplSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 7965
      },
      "writtenOn": "2024-03-21T11:21:28Z",
      "side": 1,
      "message": "NB: an ongoing",
      "range": {
        "startLine": 72,
        "startChar": 31,
        "endLine": 72,
        "endChar": 32
      },
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7f4e31f_87d778d8",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/events/cmsubscription/service/CmNotificationSubscriptionPersistenceServiceImplSpec.groovy",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 7931
      },
      "writtenOn": "2024-03-22T11:48:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99da53d4_2053798a",
      "range": {
        "startLine": 72,
        "startChar": 31,
        "endLine": 72,
        "endChar": 32
      },
      "revId": "1cd9bb5b39e210bd2abf80fa1875fb1387ea494c",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}