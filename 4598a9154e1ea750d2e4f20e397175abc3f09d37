{
  "comments": [
    {
      "key": {
        "uuid": "01698aef_c01a9265",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImpl.java",
        "patchSetId": 10
      },
      "lineNbr": 200,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": ", caused by",
      "range": {
        "startLine": 200,
        "startChar": 101,
        "endLine": 200,
        "endChar": 112
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a795a3af_8e0a06f3",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 55,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-08T15:56:31Z",
      "side": 1,
      "message": "This results in a Security hotspot. Either we accept and suppress it or we think of another way  of finding the key from a xpath.\n\neg : \"/dmi-registry/cm-handles[@id\u003d\u0027\u0027123\u0027]/additional-properties[@name\u003d\u0027propertyKey\u0027]\"\nwith the regex i am trying to extract out propertyKey\n\nDetails : https://sonarcloud.io/project/security_hotspots?branch\u003d126916-10\u0026id\u003donap_cps\u0026sinceLeakPeriod\u003dtrue",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 100
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fd4de54_2774bdd4",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 55,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "we can accept it. Th string being checked is generated from in code and not user input",
      "parentUuid": "a795a3af_8e0a06f3",
      "range": {
        "startLine": 55,
        "startChar": 4,
        "endLine": 55,
        "endChar": 100
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ee0feb2_db06e4d0",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 101,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-08T15:56:31Z",
      "side": 1,
      "message": "Empty check is required as replaceListContent throws CpsAdminException when we pass in empty collection.\n\nthrow new CpsAdminException(\"Invalid list replacement\",\n                \"Cannot replace list elements with empty collection\");",
      "range": {
        "startLine": 98,
        "startChar": 8,
        "endLine": 101,
        "endChar": 9
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41ef3c13_f0c97c0c",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 101,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "thats ok",
      "parentUuid": "3ee0feb2_db06e4d0",
      "range": {
        "startLine": 98,
        "startChar": 8,
        "endLine": 101,
        "endChar": 9
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48cd6d2b_a60a40d2",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 122,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "as you have else block now remove ! and swap blocks",
      "range": {
        "startLine": 122,
        "startChar": 38,
        "endLine": 122,
        "endChar": 40
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab34daea_51b4ed8a",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 131,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-08T15:56:31Z",
      "side": 1,
      "message": "This else block is required to handle a special case when we have only one Public OR one DMI property left and we try to delete it. \nIf we would have used replaceListContent then we will end up passing empty collection to it , which would result in CpsAdminException (As i explained in my previous comment)\nHence I thought of using cpsDataService.deleteDataNode to delete the dataNode. What do you guys think of this approach?",
      "range": {
        "startLine": 127,
        "startChar": 14,
        "endLine": 131,
        "endChar": 13
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e6e25a4_d83f7e97",
        "filename": "cps-ncmp-service/src/main/java/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandler.java",
        "patchSetId": 10
      },
      "lineNbr": 131,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "but this delete is inside the loop?!\nwill it work correctly (please test) in the following 2 cases (add unit test):\nA) exits: prop1\u003dA,prop2\u003dB incoming  prop2\u003dnull\nB) exits: prop1\u003dA,prop2\u003dB incoming  prop1\u003dnull,prop2\u003dnull",
      "parentUuid": "ab34daea_51b4ed8a",
      "range": {
        "startLine": 127,
        "startChar": 14,
        "endLine": 131,
        "endChar": 13
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "899c4e44_26130764",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplRegistrationSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 211,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-08T15:56:31Z",
      "side": 1,
      "message": "I will remove this bit in the next commit. This is actually not required here now.",
      "range": {
        "startLine": 210,
        "startChar": 8,
        "endLine": 211,
        "endChar": 57
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ec4566c_11bd24ec",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServiceImplRegistrationSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 211,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "899c4e44_26130764",
      "range": {
        "startLine": 210,
        "startChar": 8,
        "endLine": 211,
        "endChar": 57
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f182e991_d6a4f5ad",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandlerSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "very good tets. I have some suggestions to do with how use groovy better and some naming and labeling.\nI will push a commit soon to show it more clearly...",
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49257b71_3ab5e30b",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandlerSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "suggestion: propertyDataNodes",
      "range": {
        "startLine": 42,
        "startChar": 8,
        "endLine": 42,
        "endChar": 23
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51a07b13_56763506",
        "filename": "cps-ncmp-service/src/test/groovy/org/onap/cps/ncmp/api/impl/NetworkCmProxyDataServicePropertyHandlerSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 63,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "you could simplify this to:\nmockCpsDataService.replaceListContent(dataspaceName, anchorName, cmHandleXpath, _, noTimeStamp) \u003e\u003e { args -\u003e { assert args[3].leaves \u003d\u003d expectedPropertiesAfterUpdate }}\n\nif you want for readability you could add \"def updateDataNode \u003d args[3]\"  but I think \u0027args[3] speaks for itself , actually i think it is even better  in the context of \u0027interaction verification: you want to check \u0027argument 3\u0027...",
      "range": {
        "startLine": 60,
        "startChar": 17,
        "endLine": 63,
        "endChar": 82
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71f47132_6fc04b00",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 10
      },
      "lineNbr": 33,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "unused? This is the only change is this file?!",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 38
      },
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dc39825_e7ece0d5",
        "filename": "docs/api/swagger/ncmp/openapi-inventory.yaml",
        "patchSetId": 10
      },
      "lineNbr": 99,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-08T15:56:31Z",
      "side": 1,
      "message": "Since the change is applied on RestCmHandleProperties , it would be applicable for both create and update cmHandles.\n\nThis would look something like below.\n\n{\n  \"dmiPlugin\": \"my-dmi-plugin\",\n  \"dmiDataPlugin\": \"my-dmi-data-plugin\",\n  \"dmiModelPlugin\": \"my-dmi-model-plugin\",\n  \"createdCmHandles\": [\n    {\n      \"cmHandle\": \"my-cm-handle\",\n      \"cmHandleProperties\": {\n        \"additionalProp1\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp2\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp3\": \"add-property , update-property , null to remove-property\"\n      },\n      \"publicCmHandleProperties\": {\n        \"additionalProp1\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp2\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp3\": \"add-property , update-property , null to remove-property\"\n      }\n    }\n  ],\n  \"updatedCmHandles\": [\n    {\n      \"cmHandle\": \"my-cm-handle\",\n      \"cmHandleProperties\": {\n        \"additionalProp1\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp2\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp3\": \"add-property , update-property , null to remove-property\"\n      },\n      \"publicCmHandleProperties\": {\n        \"additionalProp1\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp2\": \"add-property , update-property , null to remove-property\",\n        \"additionalProp3\": \"add-property , update-property , null to remove-property\"\n      }\n    }\n  ],\n  \"removedCmHandles\": [\n    \"[\\\"my-cm-handle1\\\",\\\"my-cm-handle2\\\",\\\"my-cm-handle3\\\"]\"\n  ]\n}",
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "580ff9a2_e32a5a08",
        "filename": "docs/api/swagger/ncmp/openapi-inventory.yaml",
        "patchSetId": 10
      },
      "lineNbr": 99,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-09T08:27:44Z",
      "side": 1,
      "message": "Ignore the above , I found another way to display only on updatedCmHandles. Please see below and comment if this looks ok.\n\n{\n  \"dmiPlugin\": \"my-dmi-plugin\",\n  \"dmiDataPlugin\": \"my-dmi-data-plugin\",\n  \"dmiModelPlugin\": \"my-dmi-model-plugin\",\n  \"createdCmHandles\": [\n    {\n      \"cmHandle\": \"my-cm-handle\",\n      \"cmHandleProperties\": {\n        \"additionalProp1\": \"my-property\",\n        \"additionalProp2\": \"my-property\",\n        \"additionalProp3\": \"my-property\"\n      },\n      \"publicCmHandleProperties\": {\n        \"additionalProp1\": \"my-property\",\n        \"additionalProp2\": \"my-property\",\n        \"additionalProp3\": \"my-property\"\n      }\n    }\n  ],\n  \"updatedCmHandles\": [\n    {\n      \"cmHandle\": \"my-cm-handle\",\n      \"cmHandleProperties\": {\n        \"add-my-property\": \"add-property\",\n        \"update-my-property\": \"updated-property\",\n        \"delete-my-property\": null\n      },\n      \"publicCmHandleProperties\": {\n        \"add-my-property\": \"add-property\",\n        \"update-my-property\": \"updated-property\",\n        \"delete-my-property\": null\n      }\n    }\n  ],\n  \"removedCmHandles\": [\n    \"[\\\"my-cm-handle1\\\",\\\"my-cm-handle2\\\",\\\"my-cm-handle3\\\"]\"\n  ]\n}",
      "parentUuid": "3dc39825_e7ece0d5",
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e248a9f_5999139e",
        "filename": "docs/api/swagger/ncmp/openapi-inventory.yaml",
        "patchSetId": 10
      },
      "lineNbr": 99,
      "author": {
        "id": 6639
      },
      "writtenOn": "2022-02-09T09:20:36Z",
      "side": 1,
      "message": "yes that looks like a good and clear example! Just put it in the next patch so if needed we can comment on parts of it",
      "parentUuid": "580ff9a2_e32a5a08",
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a24cccf3_5e22dfa7",
        "filename": "docs/api/swagger/ncmp/openapi-inventory.yaml",
        "patchSetId": 10
      },
      "lineNbr": 99,
      "author": {
        "id": 7965
      },
      "writtenOn": "2022-02-10T09:09:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8e248a9f_5999139e",
      "revId": "4598a9154e1ea750d2e4f20e397175abc3f09d37",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}