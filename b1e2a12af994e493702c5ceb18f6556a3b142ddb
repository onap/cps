{
  "comments": [
    {
      "key": {
        "uuid": "db38f435_c40a91d6",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-28T12:39:30Z",
      "side": 1,
      "message": "usually Enable Annotations are defined in a configuration class. Is there any benefit of defining it here? Does it restrict the code which it considers for retry to this package or it is still global?",
      "range": {
        "startLine": 58,
        "startChar": 1,
        "endLine": 58,
        "endChar": 12
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ce70079_667a03f3",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-06-28T22:55:39Z",
      "side": 1,
      "message": "The changed is made for the configuration as it is confirmed that it does not restrict the scope of the retry to have it here.",
      "parentUuid": "db38f435_c40a91d6",
      "range": {
        "startLine": 58,
        "startChar": 1,
        "endLine": 58,
        "endChar": 12
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c56e291_4ab27909",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-30T03:20:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1ce70079_667a03f3",
      "range": {
        "startLine": 58,
        "startChar": 1,
        "endLine": 58,
        "endChar": 12
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be3ad193_35584ed6",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-28T12:39:30Z",
      "side": 1,
      "message": "can be changed to var?",
      "range": {
        "startLine": 161,
        "startChar": 14,
        "endLine": 161,
        "endChar": 23
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "122c040a_6e5014b2",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-06-28T22:55:39Z",
      "side": 1,
      "message": "Probably it could be. As I think that the team has a preference for typed variables and as long my local Sonar is not complaining, I\u0027m not using var. Could it be possible that my local Sonar is not in sync with ONAP one ? Anyway, if it finally appears that this is an issue for ONAP Sonar, we\u0027ll make the change.",
      "parentUuid": "be3ad193_35584ed6",
      "range": {
        "startLine": 161,
        "startChar": 14,
        "endLine": 161,
        "endChar": 23
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab3b174a_0710c76c",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 161,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-30T03:20:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "122c040a_6e5014b2",
      "range": {
        "startLine": 161,
        "startChar": 14,
        "endLine": 161,
        "endChar": 23
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1016467d_e5015e56",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-28T12:39:30Z",
      "side": 1,
      "message": "var?",
      "range": {
        "startLine": 163,
        "startChar": 18,
        "endLine": 163,
        "endChar": 46
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68686e92_466e19e3",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-06-28T22:55:39Z",
      "side": 1,
      "message": "Same comment as above.",
      "parentUuid": "1016467d_e5015e56",
      "range": {
        "startLine": 163,
        "startChar": 18,
        "endLine": 163,
        "endChar": 46
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5cbcdf3_7bd92b72",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-30T03:20:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "68686e92_466e19e3",
      "range": {
        "startLine": 163,
        "startChar": 18,
        "endLine": 163,
        "endChar": 46
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7371777_dc5463ab",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-28T12:39:30Z",
      "side": 1,
      "message": "providing it in filter will make it easier to read.",
      "range": {
        "startLine": 171,
        "startChar": 20,
        "endLine": 171,
        "endChar": 106
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e33e8047_e3a3ad85",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-06-28T22:55:39Z",
      "side": 1,
      "message": "I\u0027m not sure about the filtering you are thinking about. Is it something like:\n\n    List\u003cYangResourceEntity\u003e filteredYangResourceEntities \u003d\n            yangResourceEntities\n                .stream()\n                .filter(entity -\u003e\n                        constraintException.getSQLException().getMessage()\n                                .contains(entity.getChecksum()))\n                .collect(Collectors.toList());\n\nAnything else ?",
      "parentUuid": "f7371777_dc5463ab",
      "range": {
        "startLine": 171,
        "startChar": 20,
        "endLine": 171,
        "endChar": 106
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "450ac010_d1709b6f",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-30T03:20:02Z",
      "side": 1,
      "message": "I find lambda a little difficult to understand, if it has more than couple of lines in it. So, the main intention is to reduce the number of line by moving condition to filter. \n\nIf the condition is defined in a separate method, it makes the intention explicit and makes the code more readable.",
      "parentUuid": "e33e8047_e3a3ad85",
      "range": {
        "startLine": 171,
        "startChar": 20,
        "endLine": 171,
        "endChar": 106
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f1c92b5_249a1fde",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-06T10:38:07Z",
      "side": 1,
      "message": "This is refactored with separated dedicated methods. Seems better now ...",
      "parentUuid": "450ac010_d1709b6f",
      "range": {
        "startLine": 171,
        "startChar": 20,
        "endLine": 171,
        "endChar": 106
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a00139c_709900cc",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-28T12:39:30Z",
      "side": 1,
      "message": "As per existing functionality, can we store two yang resources when creating schema-set?",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba439a1e_26765939",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-06-28T22:55:39Z",
      "side": 1,
      "message": "Exact, several yang resources can be associated to the schema set to be created.\n\nAnd one of these yang resource is causing the DataIntegrityViolationException. Here we just want to have this specific yang resource that caused the sql error in the business exception in order to have the information in the logs.",
      "parentUuid": "1a00139c_709900cc",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e42a8239_98867192",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-06-30T03:20:02Z",
      "side": 1,
      "message": "Is it possible to use some other data-structure in the exception to store yang-resource name and checksum. Currently it uses two string, which is not intuitive as there can be multiple yang resources for which it can fail.",
      "parentUuid": "ba439a1e_26765939",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be2f9b0f_3e665e33",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-06T10:38:07Z",
      "side": 1,
      "message": "Only one checksum (and its corresponding name) is expected in the exception. This is the unique checksum coming from the db exception.",
      "parentUuid": "e42a8239_98867192",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "378f338f_e18698e4",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 7680
      },
      "writtenOn": "2021-07-08T16:38:38Z",
      "side": 1,
      "message": "If multiple yang resources have checksum issues, does it report only one or all? If it reports more than one, then the existing code will return \u0027checksumInerror\u0027 as null",
      "parentUuid": "be2f9b0f_3e665e33",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d4b9110_43703326",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsModulePersistenceServiceImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 173,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-09T10:33:26Z",
      "side": 1,
      "message": "As discussed, only one checksum is expected in the db exception. \nIf ever, for any unexpected reason, checksumInError is null, it is not a blocker, we still want to throw a DuplicatedYangResourceException, it does not change the process.",
      "parentUuid": "378f338f_e18698e4",
      "range": {
        "startLine": 172,
        "startChar": 24,
        "endLine": 173,
        "endChar": 69
      },
      "revId": "b1e2a12af994e493702c5ceb18f6556a3b142ddb",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}