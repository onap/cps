{
  "comments": [
    {
      "key": {
        "uuid": "c77ea880_69ebb394",
        "filename": "cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "shoudl this be LASTindexOf ?!",
      "range": {
        "startLine": 307,
        "startChar": 77,
        "endLine": 307,
        "endChar": 83
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "981f76a9_a5bd9368",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 410,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-28T21:57:21Z",
      "side": 1,
      "message": "getOne is deprecated. To be replaced by getById.",
      "range": {
        "startLine": 410,
        "startChar": 52,
        "endLine": 410,
        "endChar": 58
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2e21b5d_c8f01c53",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 410,
      "author": {
        "id": 7830
      },
      "writtenOn": "2021-07-29T15:51:50Z",
      "side": 1,
      "message": "I will update here. getOne is used by other tests in the same file (Line 162). Should I update those to getById too while I am editing the file?",
      "parentUuid": "981f76a9_a5bd9368",
      "range": {
        "startLine": 410,
        "startChar": 52,
        "endLine": 410,
        "endChar": 58
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48ae8700_cf076841",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 410,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "yeas always good to update other tests as well, if you run into big problems check with me and/or Bruno again",
      "parentUuid": "c2e21b5d_c8f01c53",
      "range": {
        "startLine": 410,
        "startChar": 52,
        "endLine": 410,
        "endChar": 58
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a24a6659_1f5cc63d",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 413,
      "author": {
        "id": 6841
      },
      "writtenOn": "2021-07-29T08:56:02Z",
      "side": 1,
      "message": "please verify that the datanodes have been removed from the db. also I think a test is needed to test the deletion of multiple datanodes",
      "range": {
        "startLine": 411,
        "startChar": 0,
        "endLine": 413,
        "endChar": 66
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a0cc52e_f7c26627",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 413,
      "author": {
        "id": 7830
      },
      "writtenOn": "2021-07-30T10:20:19Z",
      "side": 1,
      "message": "At the moment, the existing list node scenario deletes the nodes associated with child-204 so child-204[@key\u003d\"A\"] and child-204[@key\u003d\"X\"]. That is why the only expected child xpath in the table is child-203. I think that tests the deletion of multiple datanodes but I can implement another test on different data if you think thats better?",
      "parentUuid": "a24a6659_1f5cc63d",
      "range": {
        "startLine": 411,
        "startChar": 0,
        "endLine": 413,
        "endChar": 66
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ccd8232_78f7b3fc",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 5006
      },
      "writtenOn": "2021-07-29T11:37:31Z",
      "side": 1,
      "message": "indent",
      "range": {
        "startLine": 416,
        "startChar": 63,
        "endLine": 416,
        "endChar": 65
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8df2374_ae8044fb",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 7830
      },
      "writtenOn": "2021-07-30T10:20:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ccd8232_78f7b3fc",
      "range": {
        "startLine": 416,
        "startChar": 63,
        "endLine": 416,
        "endChar": 65
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8041859d_0ee1c8e9",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "can you add test with a grandparent (related to my comment on lastIndexOf \u0027/\u0027)",
      "range": {
        "startLine": 416,
        "startChar": 40,
        "endLine": 416,
        "endChar": 52
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6953cb1b_1331070e",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 6738
      },
      "writtenOn": "2021-07-30T14:48:20Z",
      "side": 1,
      "message": "As per the story, if the list-node xpath is provided like /parent-201/child-204[key\u003d\"A\"], even then the deletion should work as it would for /parent-201/child-204.\nPlease add a scenario to test the same.\n\nAlso add a scenario to test the deletion of a list-node like /parent-201/child-203/grandchild-205[@key\u003d\"A\"]",
      "range": {
        "startLine": 416,
        "startChar": 40,
        "endLine": 416,
        "endChar": 61
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0864c74_20c7f390",
        "filename": "cps-ri/src/test/groovy/org/onap/cps/spi/impl/CpsDataPersistenceServiceIntegrationSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 429,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "probably use existing parent... (or even have 2 cases)",
      "range": {
        "startLine": 429,
        "startChar": 45,
        "endLine": 429,
        "endChar": 52
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbca646f_c1dfa4bc",
        "filename": "cps-service/src/main/java/org/onap/cps/api/CpsDataService.java",
        "patchSetId": 2
      },
      "lineNbr": 131,
      "author": {
        "id": 5006
      },
      "writtenOn": "2021-07-29T11:37:31Z",
      "side": 1,
      "message": "are these runtimeexceptions",
      "range": {
        "startLine": 131,
        "startChar": 5,
        "endLine": 131,
        "endChar": 9
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bd9853c_648275f3",
        "filename": "cps-service/src/main/java/org/onap/cps/api/CpsDataService.java",
        "patchSetId": 2
      },
      "lineNbr": 131,
      "author": {
        "id": 7830
      },
      "writtenOn": "2021-07-30T10:20:19Z",
      "side": 1,
      "message": "They are yes",
      "parentUuid": "cbca646f_c1dfa4bc",
      "range": {
        "startLine": 131,
        "startChar": 5,
        "endLine": 131,
        "endChar": 9
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d42e4dd_1575c656",
        "filename": "cps-service/src/main/java/org/onap/cps/api/CpsDataService.java",
        "patchSetId": 2
      },
      "lineNbr": 131,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-30T22:56:06Z",
      "side": 1,
      "message": "Which json data the exception is about ?\nIs there any unit tests to illustrate this error scenario ?",
      "range": {
        "startLine": 131,
        "startChar": 46,
        "endLine": 131,
        "endChar": 55
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33c59dd2_dc348c9b",
        "filename": "cps-service/src/main/java/org/onap/cps/api/impl/CpsDataServiceImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "I think we also need at least 2 / tokens ?!\nMaybe a regex check might be better (could be handles as future robustness-improvement user story)",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 124,
        "endChar": 9
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c996ffe8_d05dd21a",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 6639
      },
      "writtenOn": "2021-07-30T11:19:51Z",
      "side": 1,
      "message": "I think these 2 tets can easily be combined into 1",
      "range": {
        "startLine": 212,
        "startChar": 1,
        "endLine": 221,
        "endChar": 50
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fda6de6b_9f8f0a09",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-28T21:57:21Z",
      "side": 1,
      "message": "I\u0027m wondering if this is really a cps path exception as path is still valid. Isn\u0027t it that  deleting any root list node is not allowed ?",
      "range": {
        "startLine": 227,
        "startChar": 19,
        "endLine": 227,
        "endChar": 35
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8386338e_07365d4d",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 7830
      },
      "writtenOn": "2021-07-29T08:38:21Z",
      "side": 1,
      "message": "Correct me if I\u0027m wrong but the way I was understanding it was that in this case \"/unknown\" is a parent node so the child list-node has been left empty. So \"/unknown/child\" would be valid as long as \"child\" exists. Since an invalid XPath has been entered for this usage I used CpsPathException. Is there a better Exception I can use instead?",
      "parentUuid": "fda6de6b_9f8f0a09",
      "range": {
        "startLine": 227,
        "startChar": 19,
        "endLine": 227,
        "endChar": 35
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60319ca9_bccddf87",
        "filename": "cps-service/src/test/groovy/org/onap/cps/api/impl/CpsDataServiceImplSpec.groovy",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 5658
      },
      "writtenOn": "2021-07-30T22:31:32Z",
      "side": 1,
      "message": "As per the way CpsPathException was designed and is currently used, it is for errors while parsing cpsPath expression: \n\nhttps://github.com/onap/cps/blob/master/cps-service/src/main/java/org/onap/cps/spi/exceptions/CpsPathException.java#L27\n\nhttps://github.com/onap/cps/blob/master/cps-ri/src/main/java/org/onap/cps/spi/impl/CpsDataPersistenceServiceImpl.java#L193\n\nAnd here the error might not be caused by a cps path parsing error. It is more that this specific cps path (that might valid from a grammar point of view) is not supported the this specific operation.\n\nSame comment for line 218 above. It does not seem to me to be a cps path parsing error, It is more a missing mandatory parameter error.\n\nOn the other side, if an cps path that cannot be parsed is provided, such as @/unknown for example, no CpsPathException is thrown.\n\nThis could be a bit confusing and misleading for clients if precise and consistent explanation of the error is not provided.\n\nWe can still have a quick team discussion about the usage of CPSPathExcpetion here.",
      "parentUuid": "8386338e_07365d4d",
      "range": {
        "startLine": 227,
        "startChar": 19,
        "endLine": 227,
        "endChar": 35
      },
      "revId": "aa02211e6f0f91866e166f124f83ade5dfa37866",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}